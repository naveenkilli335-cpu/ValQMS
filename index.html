<!DOCTYPE html>
<html lang="en" data-theme="cyan" data-bg="lavender">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ValQMS</title>
  <meta name="description" content="Validation tools and QMS Procedures/Applications.">
  <link rel="icon" href="favicon.jpg?v=5">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    
    /* Theme Colors */
    [data-theme="green"]{--accent:#10b981;--accent-bright:#34d399;--accent-dim:rgba(16,185,129,0.15);--accent-glow:rgba(16,185,129,0.4)}
    [data-theme="cyan"]{--accent:#06b6d4;--accent-bright:#22d3ee;--accent-dim:rgba(6,182,212,0.15);--accent-glow:rgba(6,182,212,0.4)}
    [data-theme="purple"]{--accent:#8b5cf6;--accent-bright:#a78bfa;--accent-dim:rgba(139,92,246,0.15);--accent-glow:rgba(139,92,246,0.4)}
    [data-theme="orange"]{--accent:#f97316;--accent-bright:#fb923c;--accent-dim:rgba(249,115,22,0.15);--accent-glow:rgba(249,115,22,0.4)}
    [data-theme="blue"]{--accent:#3b82f6;--accent-bright:#60a5fa;--accent-dim:rgba(59,130,246,0.15);--accent-glow:rgba(59,130,246,0.4)}
    [data-theme="red"]{--accent:#ef4444;--accent-bright:#f87171;--accent-dim:rgba(239,68,68,0.15);--accent-glow:rgba(239,68,68,0.4)}
    [data-theme="pink"]{--accent:#ec4899;--accent-bright:#f472b6;--accent-dim:rgba(236,72,153,0.15);--accent-glow:rgba(236,72,153,0.4)}
    [data-theme="teal"]{--accent:#14b8a6;--accent-bright:#2dd4bf;--accent-dim:rgba(20,184,166,0.15);--accent-glow:rgba(20,184,166,0.4)}
    [data-theme="indigo"]{--accent:#6366f1;--accent-bright:#818cf8;--accent-dim:rgba(99,102,241,0.15);--accent-glow:rgba(99,102,241,0.4)}
    [data-theme="yellow"]{--accent:#eab308;--accent-bright:#facc15;--accent-dim:rgba(234,179,8,0.15);--accent-glow:rgba(234,179,8,0.4)}
    [data-theme="magenta"]{--accent:#d946ef;--accent-bright:#e879f9;--accent-dim:rgba(217,70,239,0.15);--accent-glow:rgba(217,70,239,0.4)}
    [data-theme="emerald"]{--accent:#059669;--accent-bright:#10b981;--accent-dim:rgba(5,150,105,0.15);--accent-glow:rgba(5,150,105,0.4)}
    [data-theme="amber"]{--accent:#d97706;--accent-bright:#f59e0b;--accent-dim:rgba(217,119,6,0.15);--accent-glow:rgba(217,119,6,0.4)}
    [data-theme="lime"]{--accent:#84cc16;--accent-bright:#a3e635;--accent-dim:rgba(132,204,22,0.15);--accent-glow:rgba(132,204,22,0.4)}
    [data-theme="violet"]{--accent:#7c3aed;--accent-bright:#a78bfa;--accent-dim:rgba(124,58,237,0.15);--accent-glow:rgba(124,58,237,0.4)}

    :root{
      --text:#ffffff;
      --text-dim:#94a3b8;
      --surface:rgba(255,255,255,0.05);
      --surface-hover:rgba(255,255,255,0.08);
      --border:rgba(255,255,255,0.1);
      --glass:rgba(255,255,255,0.03);
    }

    /* ANIMATED BACKGROUNDS */
    [data-bg="mesh"] body{background:#0f172a;position:relative}
    [data-bg="mesh"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%, rgba(16,185,129,0.15) 0%, transparent 50%),radial-gradient(circle at 80% 80%, rgba(99,102,241,0.15) 0%, transparent 50%),radial-gradient(circle at 40% 80%, rgba(236,72,153,0.1) 0%, transparent 50%);animation:meshMove 15s ease-in-out infinite alternate;z-index:-1}

    [data-bg="gradient"] body{background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);position:relative}
    [data-bg="gradient"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg, transparent 0%, rgba(0,0,0,0.3) 100%);z-index:-1}

    [data-bg="dots"] body{background:#0a0e27;position:relative}
    [data-bg="dots"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);background-size:30px 30px;z-index:-1}

    [data-bg="waves"] body{background:#0f172a;position:relative}
    [data-bg="waves"] body::before{content:'';position:fixed;bottom:0;left:0;width:100%;height:400px;background:linear-gradient(180deg, transparent 0%, rgba(16,185,129,0.1) 100%);animation:waveMove 8s ease-in-out infinite;z-index:-1}

    [data-bg="dark"] body{background:#0a0e1a;position:relative}
    [data-bg="dark"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center, rgba(59,130,246,0.05) 0%, transparent 70%);z-index:-1}

    [data-bg="blobs"] body {background: #0f172a;position: relative;}
    [data-bg="blobs"] body::before {content: '';position: fixed;top: -100px;left: -100px;width: 140%;height: 140%;background:radial-gradient(circle at 20% 30%, rgba(255, 0, 128, 0.25), transparent 40%),radial-gradient(circle at 70% 70%, rgba(0, 128, 255, 0.2), transparent 40%),radial-gradient(circle at 50% 50%, rgba(0, 255, 128, 0.15), transparent 30%);filter: blur(100px);animation: blobMove 20s infinite ease-in-out alternate;z-index: -1}

    [data-bg="mesh2"] body {background: #0f172a;position: relative;}
    [data-bg="mesh2"] body::before {content: '';position: fixed;top: 0;left: 0;width: 100%;height: 100%;background:radial-gradient(circle at 15% 60%, rgba(255, 0, 128, 0.12), transparent 50%),radial-gradient(circle at 85% 40%, rgba(0, 128, 255, 0.12), transparent 50%),radial-gradient(circle at 50% 90%, rgba(0, 255, 128, 0.1), transparent 50%);animation: mesh2Move 25s ease-in-out infinite alternate;z-index: -1}

    [data-bg="aurora"] body{background:#f0f9ff;position:relative}
    [data-bg="aurora"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%, rgba(59,130,246,0.3) 0%, transparent 50%),radial-gradient(circle at 80% 80%, rgba(236,72,153,0.25) 0%, transparent 50%),radial-gradient(circle at 40% 20%, rgba(168,85,247,0.2) 0%, transparent 50%);animation:meshMove 15s ease-in-out infinite alternate;z-index:-1}

    [data-bg="sunset"] body{background:linear-gradient(135deg, #fff5f5 0%, #ffe4e6 50%, #fef3c7 100%);position:relative}
    [data-bg="sunset"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 70% 30%, rgba(251,113,133,0.2) 0%, transparent 60%);z-index:-1}

    [data-bg="ocean"] body{background:linear-gradient(135deg, #ecfeff 0%, #e0f2fe 50%, #dbeafe 100%);position:relative}
    [data-bg="ocean"] body::before{content:'';position:fixed;bottom:0;left:0;width:100%;height:400px;background:linear-gradient(180deg, transparent 0%, rgba(14,165,233,0.15) 100%);animation:waveMove 8s ease-in-out infinite;z-index:-1}

    [data-bg="mint"] body{background:linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #d1fae5 100%);position:relative}
    [data-bg="mint"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 40%, rgba(16,185,129,0.15) 0%, transparent 60%),radial-gradient(circle at 70% 70%, rgba(20,184,166,0.12) 0%, transparent 60%);z-index:-1}

    [data-bg="pearl"] body{background:linear-gradient(135deg, #fefce8 0%, #fef3c7 50%, #fde68a 100%);position:relative}
    [data-bg="pearl"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 50%, rgba(251,191,36,0.1) 0%, transparent 70%);z-index:-1}

    [data-bg="lavender"] body{background:linear-gradient(135deg, #faf5ff 0%, #f3e8ff 50%, #e9d5ff 100%);position:relative}
    [data-bg="lavender"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 40% 60%, rgba(168,85,247,0.15) 0%, transparent 60%);animation:meshMove 20s ease-in-out infinite alternate;z-index:-1}

    [data-bg="cosmic"] body{background:#000000;position:relative}
    [data-bg="cosmic"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%, rgba(139,92,246,0.3) 0%, transparent 40%),radial-gradient(circle at 90% 80%, rgba(236,72,153,0.25) 0%, transparent 40%),radial-gradient(circle at 50% 50%, rgba(59,130,246,0.2) 0%, transparent 50%);animation:blobMove 25s infinite ease-in-out alternate;z-index:-1}

    [data-bg="neon"] body{background:#0a0118;position:relative}
    [data-bg="neon"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 30%, rgba(236,72,153,0.4) 0%, transparent 40%),radial-gradient(circle at 80% 70%, rgba(59,130,246,0.35) 0%, transparent 40%),radial-gradient(circle at 50% 50%, rgba(168,85,247,0.3) 0%, transparent 50%);filter:blur(60px);animation:blobMove 20s infinite ease-in-out alternate;z-index:-1}

    [data-bg="neon"] body{background:#0a0118;position:relative}
    [data-bg="neon"] body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 30%, rgba(236,72,153,0.4) 0%, transparent 40%),radial-gradient(circle at 80% 70%, rgba(59,130,246,0.35) 0%, transparent 40%),radial-gradient(circle at 50% 50%, rgba(168,85,247,0.3) 0%, transparent 50%);filter:blur(60px);animation:blobMove 20s infinite ease-in-out alternate;z-index:-1}

/* Light backgrounds - dark text - PASTE HERE */
    [data-bg="aurora"],
    [data-bg="sunset"],
    [data-bg="ocean"],
    [data-bg="mint"],
    [data-bg="pearl"],
    [data-bg="lavender"] {
    --text: #0f172a;
    --text-dim: #475569;
    --surface: rgba(0,0,0,0.05);
    --surface-hover: rgba(0,0,0,0.08);
    --border: rgba(0,0,0,0.1);
    --glass: rgba(0,0,0,0.03);
  }

[data-bg="aurora"] h1,
[data-bg="sunset"] h1,
[data-bg="ocean"] h1,
[data-bg="mint"] h1,
[data-bg="pearl"] h1,
[data-bg="lavender"] h1 {
  background: linear-gradient(135deg, #0f172a 0%, #475569 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-bg="aurora"] h2,
[data-bg="sunset"] h2,
[data-bg="ocean"] h2,
[data-bg="mint"] h2,
[data-bg="pearl"] h2,
[data-bg="lavender"] h2 {
  background: linear-gradient(135deg, #0f172a 0%, #475569 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-bg="aurora"] .header-glass,
[data-bg="sunset"] .header-glass,
[data-bg="ocean"] .header-glass,
[data-bg="mint"] .header-glass,
[data-bg="pearl"] .header-glass,
[data-bg="lavender"] .header-glass {
  background: rgba(255,255,255,0.7);
  border: 1px solid rgba(0,0,0,0.1);
}

[data-bg="aurora"] .tool-item,
[data-bg="sunset"] .tool-item,
[data-bg="ocean"] .tool-item,
[data-bg="mint"] .tool-item,
[data-bg="pearl"] .tool-item,
[data-bg="lavender"] .tool-item,
[data-bg="aurora"] .module-card,
[data-bg="sunset"] .module-card,
[data-bg="ocean"] .module-card,
[data-bg="mint"] .module-card,
[data-bg="pearl"] .module-card,
[data-bg="lavender"] .module-card,
[data-bg="aurora"] .app-card,
[data-bg="sunset"] .app-card,
[data-bg="ocean"] .app-card,
[data-bg="mint"] .app-card,
[data-bg="pearl"] .app-card,
[data-bg="lavender"] .app-card,
[data-bg="aurora"] .resource-card,
[data-bg="sunset"] .resource-card,
[data-bg="ocean"] .resource-card,
[data-bg="mint"] .resource-card,
[data-bg="pearl"] .resource-card,
[data-bg="lavender"] .resource-card {
  background: rgba(255,255,255,0.6);
  border: 1px solid rgba(0,0,0,0.1);
}

[data-bg="aurora"] footer,
[data-bg="sunset"] footer,
[data-bg="ocean"] footer,
[data-bg="mint"] footer,
[data-bg="pearl"] footer,
[data-bg="lavender"] footer {
  background: rgba(255,255,255,0.5);
  border-top: 1px solid rgba(0,0,0,0.1);
}

/* Additional text elements for light backgrounds */
[data-bg="aurora"] .section-head p,
[data-bg="sunset"] .section-head p,
[data-bg="ocean"] .section-head p,
[data-bg="mint"] .section-head p,
[data-bg="pearl"] .section-head p,
[data-bg="lavender"] .section-head p {
  color: #475569;
}

[data-bg="aurora"] .lead,
[data-bg="sunset"] .lead,
[data-bg="ocean"] .lead,
[data-bg="mint"] .lead,
[data-bg="pearl"] .lead,
[data-bg="lavender"] .lead {
  color: #475569;
}

[data-bg="aurora"] .pill,
[data-bg="sunset"] .pill,
[data-bg="ocean"] .pill,
[data-bg="mint"] .pill,
[data-bg="pearl"] .pill,
[data-bg="lavender"] .pill {
  color: #475569;
  background: rgba(0,0,0,0.05);
  border: 1px solid rgba(0,0,0,0.1);
}

[data-bg="aurora"] .tool-content p,
[data-bg="sunset"] .tool-content p,
[data-bg="ocean"] .tool-content p,
[data-bg="mint"] .tool-content p,
[data-bg="pearl"] .tool-content p,
[data-bg="lavender"] .tool-content p,
[data-bg="aurora"] .app-card p,
[data-bg="sunset"] .app-card p,
[data-bg="ocean"] .app-card p,
[data-bg="mint"] .app-card p,
[data-bg="pearl"] .app-card p,
[data-bg="lavender"] .app-card p,
[data-bg="aurora"] .module-card p,
[data-bg="sunset"] .module-card p,
[data-bg="ocean"] .module-card p,
[data-bg="mint"] .module-card p,
[data-bg="pearl"] .module-card p,
[data-bg="lavender"] .module-card p {
  color: #64748b;
}

[data-bg="aurora"] .tool-content h3,
[data-bg="sunset"] .tool-content h3,
[data-bg="ocean"] .tool-content h3,
[data-bg="mint"] .tool-content h3,
[data-bg="pearl"] .tool-content h3,
[data-bg="lavender"] .tool-content h3,
[data-bg="aurora"] .app-card h4,
[data-bg="sunset"] .app-card h4,
[data-bg="ocean"] .app-card h4,
[data-bg="mint"] .app-card h4,
[data-bg="pearl"] .app-card h4,
[data-bg="lavender"] .app-card h4,
[data-bg="aurora"] .module-card h4,
[data-bg="sunset"] .module-card h4,
[data-bg="ocean"] .module-card h4,
[data-bg="mint"] .module-card h4,
[data-bg="pearl"] .module-card h4,
[data-bg="lavender"] .module-card h4 {
  color: #0f172a;
}

[data-bg="aurora"] nav a,
[data-bg="sunset"] nav a,
[data-bg="ocean"] nav a,
[data-bg="mint"] nav a,
[data-bg="pearl"] nav a,
[data-bg="lavender"] nav a {
  color: #475569;
}

[data-bg="aurora"] nav a:hover,
[data-bg="sunset"] nav a:hover,
[data-bg="ocean"] nav a:hover,
[data-bg="mint"] nav a:hover,
[data-bg="pearl"] nav a:hover,
[data-bg="lavender"] nav a:hover {
  color: #0f172a;
}

/* Fix h2 headings for light backgrounds */
[data-bg="aurora"] .section-head h2,
[data-bg="sunset"] .section-head h2,
[data-bg="ocean"] .section-head h2,
[data-bg="mint"] .section-head h2,
[data-bg="pearl"] .section-head h2,
[data-bg="lavender"] .section-head h2 {
  background: linear-gradient(135deg, #0f172a 0%, #475569 100%) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
}

/* Also fix h3 and h4 if they have gradients */
[data-bg="aurora"] h3,
[data-bg="sunset"] h3,
[data-bg="ocean"] h3,
[data-bg="mint"] h3,
[data-bg="pearl"] h3,
[data-bg="lavender"] h3,
[data-bg="aurora"] h4,
[data-bg="sunset"] h4,
[data-bg="ocean"] h4,
[data-bg="mint"] h4,
[data-bg="pearl"] h4,
[data-bg="lavender"] h4 {
  color: #0f172a;
}

    @keyframes mesh2Move {0% {transform: translate(0, 0);}100% {transform: translate(-50px, 40px);}}
    @keyframes blobMove {0%{transform: translate(0, 0);}100% {transform: translate(-50px, 50px);}}
    @keyframes meshMove{0%{transform:scale(1) rotate(0deg)}100%{transform:scale(1.1) rotate(5deg)}}
    @keyframes waveMove{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

    html{scroll-behavior:smooth}
    body{font-family:'Inter',system-ui,-apple-system,sans-serif;color:var(--text);line-height:1.6;-webkit-font-smoothing:antialiased;transition:background 0.5s ease;min-height:100vh;overflow-x:hidden}
    .container{max-width:1280px;margin:0 auto;padding:0 24px}

    /* GLASSMORPHISM HEADER */
    header{position:sticky;top:12px;z-index:1000;padding:0 24px;margin-bottom:20px}
    .header-glass{background:rgba(255,255,255,0.03);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,255,255,0.1);border-radius:20px;padding:0 32px;box-shadow:0 8px 32px rgba(0,0,0,0.1),inset 0 1px 0 rgba(255,255,255,0.1)}
    header .container{display:flex;justify-content:space-between;align-items:center;height:72px;max-width:100%;padding:0}
    
    .logo{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--text);font-weight:800;font-size:22px;letter-spacing:-0.7px;transition:all 0.3s}
    .logo:hover{transform:translateY(-2px)}
    .logo-mark{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,var(--accent),var(--accent-bright));border-radius:12px;box-shadow:0 4px 20px var(--accent-glow);transition:all 0.3s;position:relative}
    .logo-mark::after{content:'';position:absolute;inset:-2px;background:linear-gradient(135deg,var(--accent),var(--accent-bright));border-radius:14px;z-index:-1;opacity:0;filter:blur(10px);transition:opacity 0.3s}
    .logo-mark:hover::after{opacity:0.7}
    .logo-mark img{width:100%;height:100%;object-fit:contain;padding:4px}

    nav{display:flex;gap:8px;align-items:center}
    nav a{color:var(--text-dim);text-decoration:none;font-size:15px;font-weight:500;padding:10px 18px;border-radius:10px;transition:all 0.3s;position:relative}
    nav a:hover{color:var(--text);background:var(--surface-hover)}
    nav a::after{content:'';position:absolute;bottom:0;left:50%;width:0;height:2px;background:var(--accent);transition:all 0.3s;transform:translateX(-50%)}
    nav a:hover::after{width:80%}

    /* Control Buttons Group */
    .header-controls{display:flex;gap:12px;align-items:center}
    
    /* Background Selector */
    .bg-selector{position:relative}
    .bg-btn{padding:10px 18px;background:var(--surface);border:1px solid var(--border);border-radius:12px;color:var(--text-dim);font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all 0.3s}
    .bg-btn:hover{background:var(--surface-hover);border-color:var(--accent);color:var(--text)}
    .bg-dropdown{position:absolute;top:calc(100% + 12px);right:0;background:rgba(255,255,255,0.05);backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:16px;padding:12px;display:none;min-width:200px;box-shadow:0 20px 60px rgba(0,0,0,0.3);z-index:100}
    .bg-dropdown.active{display:block}
    .bg-dropdown{position:absolute;top:calc(100% + 12px);right:0;background:rgba(255,255,255,0.05);backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:16px;padding:12px;display:none;min-width:200px;max-height:400px;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.3);z-index:100}
    .bg-dropdown.active{display:block}
    .bg-dropdown::-webkit-scrollbar{width:6px}
    .bg-dropdown::-webkit-scrollbar-track{background:transparent}
    .bg-dropdown::-webkit-scrollbar-thumb{background:var(--accent);border-radius:10px}
    .bg-option{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;cursor:pointer;transition:all 0.3s;font-size:14px;font-weight:500}
    .bg-option:hover{background:var(--surface-hover)}
    .bg-preview{width:32px;height:32px;border-radius:8px;border:2px solid rgba(255,255,255,0.2)}
    .bg-preview.mesh{background:radial-gradient(circle, #10b981 0%, #6366f1 100%)}
    .bg-preview.gradient{background:linear-gradient(135deg, #667eea 0%, #764ba2 100%)}
    .bg-preview.dots{background:#0a0e27;background-image:radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px);background-size:15px 15px}
    .bg-preview.waves{background:linear-gradient(180deg, #0f172a 0%, #10b981 100%)}
    .bg-preview.dark{background:#0a0e1a}
    .bg-preview.blobs {background: radial-gradient(circle, #ff0080 0%, transparent 40%),radial-gradient(circle, #0080ff 0%, transparent 40%);background-size: 80% 80%;}
    .bg-preview.mesh2 {background: radial-gradient(circle, rgba(255,0,128,0.3) 0%, transparent 50%),radial-gradient(circle, rgba(0,255,128,0.3) 0%, transparent 50%);}
    .bg-preview.aurora{background:linear-gradient(135deg, #dbeafe 0%, #fce7f3 100%)}
    .bg-preview.sunset{background:linear-gradient(135deg, #fff5f5 0%, #fef3c7 100%)}
    .bg-preview.ocean{background:linear-gradient(135deg, #ecfeff 0%, #dbeafe 100%)}
    .bg-preview.mint{background:linear-gradient(135deg, #f0fdf4 0%, #d1fae5 100%)}
    .bg-preview.pearl{background:linear-gradient(135deg, #fefce8 0%, #fde68a 100%)}
    .bg-preview.lavender{background:linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%)}
    .bg-preview.cosmic{background:radial-gradient(circle, #8b5cf6 0%, #000 100%)}
    .bg-preview.neon{background:radial-gradient(circle, #ec4899 0%, #0a0118 100%)}

    /* Theme Selector */
    .theme-selector{position:relative}
    .theme-btn{padding:10px 18px;background:var(--surface);border:1px solid var(--border);border-radius:12px;color:var(--text-dim);font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all 0.3s}
    .theme-btn:hover{background:var(--surface-hover);border-color:var(--accent);color:var(--text)}
    .theme-dropdown{position:absolute;top:calc(100% + 12px);right:0;background:rgba(255,255,255,0.05);backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:16px;padding:12px;display:none;min-width:200px;max-height:400px;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.3);z-index:100}
    .theme-dropdown.active{display:block}
    .theme-dropdown::-webkit-scrollbar{width:6px}
    .theme-dropdown::-webkit-scrollbar-track{background:transparent}
    .theme-dropdown::-webkit-scrollbar-thumb{background:var(--accent);border-radius:10px}
    .theme-option{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;cursor:pointer;transition:all 0.3s;font-size:14px;font-weight:500}
    .theme-option:hover{background:var(--surface-hover)}
    .theme-color{width:28px;height:28px;border-radius:8px;border:2px solid rgba(255,255,255,0.2);transition:all 0.3s}
    .theme-option:hover .theme-color{transform:scale(1.1)}
    .theme-color.green{background:linear-gradient(135deg,#10b981,#34d399)}
    .theme-color.cyan{background:linear-gradient(135deg,#06b6d4,#22d3ee)}
    .theme-color.purple{background:linear-gradient(135deg,#8b5cf6,#a78bfa)}
    .theme-color.orange{background:linear-gradient(135deg,#f97316,#fb923c)}
    .theme-color.blue{background:linear-gradient(135deg,#3b82f6,#60a5fa)}
    .theme-color.red{background:linear-gradient(135deg,#ef4444,#f87171)}
    .theme-color.pink{background:linear-gradient(135deg,#ec4899,#f472b6)}
    .theme-color.teal{background:linear-gradient(135deg,#14b8a6,#2dd4bf)}
    .theme-color.indigo{background:linear-gradient(135deg,#6366f1,#818cf8)}
    .theme-color.yellow{background:linear-gradient(135deg,#eab308,#facc15)}
    .theme-color.magenta{background:linear-gradient(135deg,#d946ef,#e879f9)}
    .theme-color.emerald{background:linear-gradient(135deg,#059669,#10b981)}
    .theme-color.amber{background:linear-gradient(135deg,#d97706,#f59e0b)}
    .theme-color.lime{background:linear-gradient(135deg,#84cc16,#a3e635)}
    .theme-color.violet{background:linear-gradient(135deg,#7c3aed,#a78bfa)}

    /* Login Button */
    .btn-login{padding:10px 20px;background:var(--surface);border:1px solid var(--border);border-radius:12px;color:var(--text);font-size:14px;font-weight:600;text-decoration:none;transition:all 0.3s}
    .btn-login:hover{background:var(--accent);border-color:var(--accent);transform:translateY(-2px);box-shadow:0 4px 16px var(--accent-glow)}

    /* User Menu - UPDATED TO MATCH OTHER BUTTONS */
    .user-menu{position:relative;display:none}
    .user-badge{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 18px;
      min-width:50px;
      height:40px;
      border-radius:12px;
      background:var(--surface);
      border:1px solid var(--border);
      color:var(--text);
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      transition:all 0.3s;
      letter-spacing:0.5px;
    }
    .user-badge:hover{
      background:var(--surface-hover);
      border-color:var(--accent);
      color:var(--text);
      transform:translateY(-2px);
    }


    /* User Menu - FIXED */
    .user-dropdown{
      position:absolute;
      top:calc(100% + 12px);
      right:0;
      background:rgba(255,255,255,0.05);
      backdrop-filter:blur(20px);
      border:1px solid var(--border);
      border-radius:16px;
      padding:8px;
      display:none;
      min-width:160px;
      z-index:2000;
      box-shadow:0 20px 60px rgba(0,0,0,0.3);
    }

    .user-dropdown.active{
      display:block;
    }

    .user-dropdown button{
      display:block;
      width:100%;
      text-align:left;
      background:transparent;
      border:none;
      border-radius:10px;
      color:var(--text);
      padding:12px 16px;
      font-size:14px;
      font-weight:500;
      cursor:pointer;
      transition:all 0.3s;
      margin-bottom:4px;
    }

    .user-dropdown button:hover{
      background:var(--surface-hover);
    }

    .user-dropdown button:last-child{
      margin-bottom:0;
    }

    .user-dropdown button:last-child:hover{
      background:rgba(239,68,68,0.1);
      color:#f87171;
    }


    /* Mobile Menu Toggle */
    .mobile-menu-btn{display:none;background:var(--surface);border:1px solid var(--border);padding:10px;border-radius:12px;cursor:pointer;color:var(--text)}

    /* Hero Section */
    .hero{padding:140px 0 120px;text-align:center;position:relative}
    .pill{display:inline-flex;align-items:center;gap:10px;padding:8px 20px;background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--border);border-radius:999px;font-size:14px;color:var(--text-dim);margin-bottom:40px;transition:all 0.3s}
    .pill:hover{background:var(--surface-hover);border-color:var(--accent)}
    .pill-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;animation:pulse 2s infinite;box-shadow:0 0 10px var(--accent-glow)}
    @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(0.9)}}
    
    h1{font-size:clamp(52px,9vw,82px);font-weight:900;letter-spacing:-3px;line-height:1.05;margin-bottom:32px;background:linear-gradient(135deg,#fff 0%,#94a3b8 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 0 80px var(--accent-glow)}
    .lead{font-size:21px;color:var(--text-dim);max-width:720px;margin:0 auto 48px;line-height:1.8;font-weight:300}
    .cta-group{display:flex;gap:20px;justify-content:center;flex-wrap:wrap}
    .cta{display:inline-flex;align-items:center;gap:12px;padding:16px 36px;background:linear-gradient(135deg,var(--accent),var(--accent-bright));color:#000;text-decoration:none;border-radius:14px;font-weight:700;font-size:16px;transition:all 0.3s;box-shadow:0 8px 24px var(--accent-glow);position:relative;overflow:hidden}
    .cta::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,var(--accent-bright),var(--accent));opacity:0;transition:opacity 0.3s}
    .cta:hover::before{opacity:1}
    .cta:hover{transform:translateY(-3px);box-shadow:0 12px 32px var(--accent-glow)}
    .cta span{position:relative;z-index:1}
    .cta-secondary{background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--border);color:var(--text)}
    .cta-secondary::before{background:var(--surface-hover)}
    .cta-secondary:hover{border-color:var(--accent)}

    /* Sections */
    section{padding:100px 0}
    .section-head{text-align:center;margin-bottom:64px}
    .section-head h2{font-size:clamp(36px,6vw,56px);font-weight:900;letter-spacing:-2px;margin-bottom:16px;color:#fff;background:linear-gradient(135deg,#fff 0%,#94a3b8 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .section-head p{font-size:19px;color:var(--text-dim);max-width:740px;margin:0 auto;line-height:1.8;font-weight:300}

    /* Tools List */
    .tools-scroll-wrapper{max-width:1100px;margin:0 auto;max-height:550px;overflow-y:auto;padding-right:12px;border-radius:20px}
    .tools-scroll-wrapper::-webkit-scrollbar{width:10px}
    .tools-scroll-wrapper::-webkit-scrollbar-track{background:var(--glass);border-radius:10px}
    .tools-scroll-wrapper::-webkit-scrollbar-thumb{background:var(--accent);border-radius:10px;border:2px solid transparent;background-clip:padding-box}
    .tools-list{display:flex;flex-direction:column;gap:16px}
    .tool-item{display:flex;align-items:center;gap:20px;background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--border);border-radius:18px;padding:20px 24px;text-decoration:none;color:inherit;transition:all 0.4s;position:relative;overflow:hidden}
    .tool-item::before{content:'';position:absolute;left:0;top:0;bottom:0;width:5px;background:linear-gradient(180deg,var(--accent),var(--accent-bright));transform:scaleY(0);transition:transform 0.4s}
    .tool-item:hover{background:var(--surface-hover);border-color:var(--accent);transform:translateX(8px);box-shadow:0 12px 40px rgba(0,0,0,0.3)}
    .tool-item:hover::before{transform:scaleY(1)}
    .tool-icon{width:56px;height:56px;background:linear-gradient(135deg,var(--accent),var(--accent-bright));border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;transition:all 0.4s;box-shadow:0 8px 20px var(--accent-glow)}
    .tool-item:hover .tool-icon{transform:scale(1.1) rotate(5deg)}
    .tool-content{flex:1;min-width:0}
    .tool-content h3{font-size:18px;font-weight:700;margin-bottom:6px;color:var(--text);letter-spacing:-0.4px}
    .tool-content p{color:var(--text-dim);font-size:14px;line-height:1.6;font-weight:300}
    .tool-arrow{font-size:28px;color:var(--accent);transition:all 0.4s;flex-shrink:0}
    .tool-item:hover .tool-arrow{transform:translateX(12px) scale(1.2)}

    /* APP CARDS - Modern Application Style */
    .app-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 28px;
      margin-bottom: 60px;
    }

    .app-card {
      background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 24px;
      padding: 32px 24px;
      text-align: center;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .app-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), var(--accent-bright));
      transform: scaleX(0);
      transition: transform 0.4s;
    }

    .app-card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: rgba(255,255,255,0.3);
      box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 40px var(--accent-glow);
    }

    .app-card:hover::before {
      transform: scaleX(1);
    }

    .app-icon {
      width: 80px;
      height: 80px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.3);
      transition: all 0.4s;
    }

    .app-card:hover .app-icon {
      transform: scale(1.1) rotate(-5deg);
      box-shadow: 0 16px 50px rgba(0,0,0,0.5);
    }

    .app-icon svg {
      color: #ffffff;
    }

    .app-card h4 {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 12px;
      color: var(--text);
    }

    .app-card p {
      font-size: 13px;
      color: var(--text-dim);
      line-height: 1.6;
      margin-bottom: 16px;
      flex: 1;
    }

    .app-badge {
      display: inline-block;
      padding: 6px 16px;
      background: linear-gradient(135deg, var(--accent), var(--accent-bright));
      color: #000;
      font-size: 11px;
      font-weight: 700;
      border-radius: 20px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: auto;
    }

    .app-badge.coming-soon {
      background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
      color: var(--text-dim);
      border: 1px solid rgba(255,255,255,0.2);
    }

    /* QMS Grid */
    .qms-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:10px}
    .module-card{background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--border);border-radius:18px;padding:32px;transition:all 0.4s;position:relative;overflow:hidden}
    .module-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--accent),var(--accent-bright));transform:scaleX(0);transform-origin:left;transition:transform 0.5s ease}
    .module-card:hover{transform:translateY(-8px);border-color:var(--accent);box-shadow:0 16px 48px rgba(0,0,0,0.3)}
    .module-card:hover::before{transform:scaleX(1)}
    .module-card h4{font-size:19px;font-weight:700;margin-bottom:12px;color:var(--text);letter-spacing:-0.3px}
    .module-card p{font-size:14px;color:var(--text-dim);line-height:1.7;font-weight:300}
    .qms-cta-wrapper{text-align:center;margin-top:56px}

    /* Resources Grid */
    .resources-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:24px}
    .resource-card{background:var(--glass);backdrop-filter:blur(10px);border:1px solid var(--border);border-radius:18px;padding:32px;transition:all 0.4s;position: relative;overflow: hidden;}
    .resource-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(90deg, var(--accent), var(--accent-bright));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.5s ease;
    }
    .resource-card:hover{border-color:var(--accent);box-shadow:0 16px 48px rgba(0,0,0,0.3);transform:translateY(-4px)}
    .resource-card:hover::before {
    transform: scaleX(1);
    }
    .resource-icon{width:56px;height:56px;background:linear-gradient(135deg,var(--accent),var(--accent-bright));border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:28px;margin-bottom:20px;box-shadow:0 8px 20px var(--accent-glow)}
    .resource-card h3{font-size:20px;font-weight:700;margin-bottom:16px;letter-spacing:-0.3px}
    .resource-card ul{list-style:none;padding:0;font-size:14px;line-height:2.2;font-weight:300}
    .resource-card a{color:var(--accent);text-decoration:none;font-weight:500;transition:all 0.3s}
    .resource-card a:hover{color:var(--accent-bright);padding-left:4px}

    /* MODERN MINIMAL FOOTER */
    footer{margin-top:120px;border-top:1px solid var(--border);background:var(--glass);backdrop-filter:blur(20px)}
    .footer-content{padding:56px 0 32px}
    .footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:48px;margin-bottom:48px}
    .footer-brand{display:flex;flex-direction:column;gap:20px}
    .footer-brand .logo{font-size:24px}
    .footer-brand p{color:var(--text-dim);font-size:14px;line-height:1.8;max-width:320px;font-weight:300}
    .footer-col h5{font-size:13px;font-weight:700;margin-bottom:16px;text-transform:uppercase;letter-spacing:1px;color:var(--text)}
    .footer-col ul{list-style:none}
    .footer-col li{margin-bottom:12px}
    .footer-col a{color:var(--text-dim);text-decoration:none;font-size:14px;transition:all 0.3s;display:inline-block;font-weight:400}
    .footer-col a:hover{color:var(--accent);transform:translateX(4px)}
    .footer-bottom{padding:24px 0;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;color:var(--text-dim);font-size:13px}
    .footer-socials{display:flex;gap:16px}
    .footer-socials a{width:36px;height:36px;border-radius:10px;background:var(--surface);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--text-dim);text-decoration:none;transition:all 0.3s}
    .footer-socials a:hover{background:var(--accent);color:#000;border-color:var(--accent);transform:translateY(-2px)}

    /* Project Management Icons */
    .pm-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 16px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }

    .pm-icon svg {
      width: 32px;
      height: 32px;
      color: white;
    }

    .module-card:hover .pm-icon {
      transform: translateY(-8px) scale(1.05);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.25);
    }

    /* Individual PM Method Colors */
    .pm-icon.csv-waterfall {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    .pm-icon.agile-sprints {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .pm-icon.qualification {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    }

    .pm-icon.v-model {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .pm-icon.hybrid {
      background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    }

    .pm-icon.kanban {
      background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
    }

    .pm-icon.features {
      background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
    }

    /* Module Tags */
    .module-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 12px;
      justify-content: center;
    }

    .module-tags .tag {
      padding: 4px 12px;
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.3);
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      color: #10b981;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Badge New */
    .badge-new {
      display: inline-flex;
      align-items: center;
      padding: 4px 12px;
      margin-left: 12px;
      background: linear-gradient(135deg, #10b981, #34d399);
      border-radius: 12px;
      font-size: 12px;
      font-weight: 700;
      color: white;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
    0%, 100% {
    opacity: 1;
    transform: scale(1);
    }
    50% {
    opacity: 0.9;
    transform: scale(1.05);
    }
  }

/* Feature Cards */
.feature-card {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
  border: 1px solid rgba(99, 102, 241, 0.2);
}

/* Quick Actions */
.pm-quick-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin-top: 48px;
  flex-wrap: wrap;
}

.pm-quick-actions a {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 28px;
  border-radius: 12px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s;
}

.pm-quick-actions .btn-primary {
  background: linear-gradient(135deg, #10b981, #34d399);
  color: white;
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.4);
}

.pm-quick-actions .btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.6);
}

.pm-quick-actions .btn-secondary {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: var(--text);
}

.pm-quick-actions .btn-secondary:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: var(--accent);
  transform: translateY(-2px);
}

.pm-quick-actions svg {
  width: 20px;
  height: 20px;
}

/* Responsive */
@media (max-width: 768px) {
  .pm-quick-actions {
    flex-direction: column;
  }
  
  .pm-quick-actions a {
    width: 100%;
    justify-content: center;
  }
  
  .badge-new {
    display: block;
    margin-left: 0;
    margin-top: 8px;
    width: fit-content;
  }
}



/* Profile Panel - MODERN REDESIGN */
#profilePanel{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.6);
  z-index:2000;
  backdrop-filter:blur(12px);
  animation:fadeIn 0.3s ease;
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

.profile-content{
  max-width:480px;
  margin:80px auto;
  background:linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
  backdrop-filter:blur(40px);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:28px;
  padding:48px 40px;
  box-shadow:0 20px 80px rgba(0,0,0,0.4);
  position:relative;
  animation:slideUp 0.4s ease;
}

@keyframes slideUp{
  from{transform:translateY(40px);opacity:0}
  to{transform:translateY(0);opacity:1}
}

.close-btn{
  position:absolute;
  top:20px;
  right:20px;
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.2);
  color:var(--text);
  font-size:24px;
  cursor:pointer;
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:12px;
  transition:all 0.3s;
}

.close-btn:hover{
  background:rgba(255,68,68,0.2);
  border-color:#ef4444;
  color:#ef4444;
  transform:rotate(90deg);
}

.profile-header{
  display:flex;
  flex-direction:column;
  align-items:center;
  margin-bottom:32px;
}

.profile-avatar{
  width:80px;
  height:80px;
  background:linear-gradient(135deg,var(--accent),var(--accent-bright));
  border-radius:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  font-weight:800;
  color:#000;
  margin-bottom:16px;
  box-shadow:0 8px 32px var(--accent-glow);
}

.profile-content h2{
  font-size:32px;
  font-weight:900;
  margin-bottom:12px;
  color:var(--text);
  letter-spacing:-1px;
  text-align:center;
}

#profileMsg{
  min-height:24px;
  color:var(--text-dim);
  margin-bottom:32px;
  font-size:14px;
  padding:8px 16px;
  background:rgba(255,255,255,0.05);
  border-radius:10px;
  text-align:center;
}

.profile-content>div:not(.profile-header):not(.btn-group){
  margin-bottom:24px;
}

.profile-content label{
  display:block;
  font-size:12px;
  color:var(--text-dim);
  margin-bottom:8px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:1px;
}

.profile-content input{
  width:100%;
  padding:14px 18px;
  border:1px solid rgba(255,255,255,0.2);
  border-radius:14px;
  background:rgba(255,255,255,0.08);
  color:#ffffff !important;
  font-size:15px;
  transition:all 0.3s;
  font-weight:500;
}

.profile-content input:focus{
  outline:none;
  border-color:var(--accent);
  background:rgba(255,255,255,0.12);
  box-shadow:0 0 0 4px var(--accent-dim), 0 4px 20px var(--accent-glow);
  transform:translateY(-2px);
}

.profile-content input:disabled{
  opacity:0.5;
  cursor:not-allowed;
  background:rgba(255,255,255,0.03);
}

.btn-group{
  display:flex;
  gap:16px;
  margin-top:32px;
}

.btn{
  flex:1;
  padding:14px 28px;
  border:none;
  border-radius:14px;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
  transition:all 0.3s;
  letter-spacing:0.3px;
}

.btn-primary{
  background:linear-gradient(135deg,var(--accent),var(--accent-bright));
  color:#000;
  box-shadow:0 6px 24px var(--accent-glow);
}

.btn-primary:hover{
  transform:translateY(-3px);
  box-shadow:0 10px 32px var(--accent-glow);
}

.btn-primary:active{
  transform:translateY(-1px);
}

.btn-secondary{
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.2);
  color:var(--text);
}

.btn-secondary:hover{
  background:rgba(255,255,255,0.15);
  transform:translateY(-2px);
}

@media(max-width:968px){
  header{top:8px;padding:0 16px}
  .header-glass{padding:0 20px;border-radius:16px}
  .mobile-menu-btn{display:block}
  nav{display:none}
  .hero{padding:80px 0 60px}
  h1{font-size:42px}
  .footer-grid{grid-template-columns:1fr;gap:32px}
  .profile-content{padding:32px 24px;margin:40px 16px}
}

    @media(max-width:968px){
      header{top:8px;padding:0 16px}
      .header-glass{padding:0 20px;border-radius:16px}
      .mobile-menu-btn{display:block}
      nav{display:none}
      .hero{padding:80px 0 60px}
      h1{font-size:42px}
      .footer-grid{grid-template-columns:1fr;gap:32px}
    }

/* Course Payment Styles */
.my-courses h3 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: var(--text);
}

.purchased-badge {
  display: inline-block;
  margin: 0.5rem 0.5rem 0 0;
  padding: 0.625rem 1rem;
  background: linear-gradient(135deg, var(--accent), var(--accent-bright));
  color: #000;
  border-radius: 10px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s;
}

.purchased-badge:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px var(--accent-glow);
}

/* Payment Success Modal */
.payment-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(8px);
  z-index: 3000;
  align-items: center;
  justify-content: center;
}

.payment-modal.active {
  display: flex;
}

.modal-box {
  background: var(--glass);
  backdrop-filter: blur(40px);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 3rem;
  max-width: 500px;
  text-align: center;
  animation: modalSlide 0.3s ease;
}

@keyframes modalSlide {
  from {
    transform: translateY(-30px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.success-icon {
  width: 72px;
  height: 72px;
  background: linear-gradient(135deg, var(--accent), var(--accent-bright));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.5rem;
  font-size: 2.5rem;
  color: #000;
  font-weight: 800;
}

.modal-box h2 {
  margin-bottom: 1rem;
  font-size: 1.875rem;
}

.modal-box p {
  color: var(--text-dim);
  margin-bottom: 2rem;
  font-size: 1rem;
}

.price-tag {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--accent), var(--accent-bright));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 1rem 0;
}

  </style>

</head>

<body>
  <!-- GLASSMORPHISM HEADER -->
  <header>
    <div class="header-glass">
      <div class="container">
        <a href="index.html" class="logo">
          <div class="logo-mark"><img src="favicon.jpg" alt="ValQMS"></div>
          <span>ValQMS</span>
        </a>
        
    <nav id="mainNav">
      <a href="#tools">Smart Tools</a>
      <a href="#qms">QMS Applications</a>
      <a href="#QMS Procedures">QMS Procedures</a>
      <a href="#validation">GxP Validation & Project Managmement</a>
      <a href="#ValQMS Academy">ValQMS Academy</a>
      <a href="#resources">Resources</a>
      <a href="#about">About</a>
    </nav>

        <div class="header-controls">
          <!-- Background Selector -->
          <div class="bg-selector">
            <button class="bg-btn" id="bgBtn"><span>🎨</span><span>Background</span></button>
            <div class="bg-dropdown" id="bgDropdown">
              <div class="bg-option" data-bg="mesh"><div class="bg-preview mesh"></div><span>Mesh Gradient</span></div>
              <div class="bg-option" data-bg="gradient"><div class="bg-preview gradient"></div><span>Purple Gradient</span></div>
              <div class="bg-option" data-bg="dots"><div class="bg-preview dots"></div><span>Dot Pattern</span></div>
              <div class="bg-option" data-bg="waves"><div class="bg-preview waves"></div><span>Wave Motion</span></div>
              <div class="bg-option" data-bg="dark"><div class="bg-preview dark"></div><span>Dark Mode</span></div>
              <div class="bg-option" data-bg="blobs"><div class="bg-preview blobs"></div><span>Blob Motion</span></div>
              <div class="bg-option" data-bg="mesh2"><div class="bg-preview mesh2"></div><span>Mesh 2</span></div>
              <div class="bg-option" data-bg="aurora"><div class="bg-preview aurora"></div><span>Aurora Light</span></div>
              <div class="bg-option" data-bg="sunset"><div class="bg-preview sunset"></div><span>Sunset Glow</span></div>
              <div class="bg-option" data-bg="ocean"><div class="bg-preview ocean"></div><span>Ocean Breeze</span></div>
              <div class="bg-option" data-bg="mint"><div class="bg-preview mint"></div><span>Mint Fresh</span></div>
              <div class="bg-option" data-bg="pearl"><div class="bg-preview pearl"></div><span>Pearl Gold</span></div>
              <div class="bg-option" data-bg="lavender"><div class="bg-preview lavender"></div><span>Lavender Dream</span></div>
              <div class="bg-option" data-bg="cosmic"><div class="bg-preview cosmic"></div><span>Cosmic Dark</span></div>
              <div class="bg-option" data-bg="neon"><div class="bg-preview neon"></div><span>Neon Nights</span></div>
            </div>
          </div>

          <!-- Theme Selector -->
          <div class="theme-selector">
            <button class="theme-btn" id="themeBtn"><span>🎨</span><span>Theme</span></button>
            <div class="theme-dropdown" id="themeDropdown">
              <div class="theme-option" data-theme="green"><div class="theme-color green"></div><span>Green</span></div>
              <div class="theme-option" data-theme="cyan"><div class="theme-color cyan"></div><span>Cyan</span></div>
              <div class="theme-option" data-theme="purple"><div class="theme-color purple"></div><span>Purple</span></div>
              <div class="theme-option" data-theme="orange"><div class="theme-color orange"></div><span>Orange</span></div>
              <div class="theme-option" data-theme="blue"><div class="theme-color blue"></div><span>Blue</span></div>
              <div class="theme-option" data-theme="red"><div class="theme-color red"></div><span>Red</span></div>
              <div class="theme-option" data-theme="pink"><div class="theme-color pink"></div><span>Pink</span></div>
              <div class="theme-option" data-theme="teal"><div class="theme-color teal"></div><span>Teal</span></div>
              <div class="theme-option" data-theme="indigo"><div class="theme-color indigo"></div><span>Indigo</span></div>
              <div class="theme-option" data-theme="yellow"><div class="theme-color yellow"></div><span>Yellow</span></div>
              <div class="theme-option" data-theme="magenta"><div class="theme-color magenta"></div><span>Magenta</span></div>
              <div class="theme-option" data-theme="emerald"><div class="theme-color emerald"></div><span>Emerald</span></div>
              <div class="theme-option" data-theme="amber"><div class="theme-color amber"></div><span>Amber</span></div>
              <div class="theme-option" data-theme="lime"><div class="theme-color lime"></div><span>Lime</span></div>
              <div class="theme-option" data-theme="violet"><div class="theme-color violet"></div><span>Violet</span></div>
            </div>
          </div>

          <a class="btn-login" href="login.html" id="loginLink">Login</a>

    <!-- User Menu -->
    <div id="userMenu" class="user-menu">
      <div id="userBadge" class="user-badge">U</div>
      <div id="userDropdown" class="user-dropdown">
        <button id="profileBtn">👤 My Profile</button>
        <button id="logoutBtn">🚪 Logout</button>
      </div>
    </div>

          <!-- Mobile Menu Button -->
          <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="hero">
      <div class="container">
        <div class="pill"><span class="pill-dot"></span><span>Empowering Life Sciences organizations with browser native Advanced tools</span></div>
        <h1>Simplify Validation.<br>Strengthen Quality.<br>Accelerate Compliance.</h1>
        <p class="lead">ValQMS empowers Life Sciences organizations with various tools which aid in validation, automation, and regulatory compliance.</p>
        <div class="cta-group">
        </div>
      </div>
    </section>

    <!-- Smart Tools -->
    <section id="tools">
      <div class="container">
        <div class="section-head">
          <h2>Smart Tools</h2>
          <p>Smart, compliant, and production-ready tools for validation documentation</p>
        </div>
        <div class="tools-scroll-wrapper">
          <div class="tools-list">
            <a href="ComparisionTool.html" class="tool-item"><div class="tool-icon">📊</div><div class="tool-content"><h3>Excel Comparison Tool</h3><p>Advanced fuzzy matching with composite keys and colorized Excel exports. Perfect for validation evidence generation.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
            <a href="MasterDataTool.html" class="tool-item"><div class="tool-icon">🧬</div><div class="tool-content"><h3>LIMS Master Data Tool</h3><p>Automatic master data structuring with smart multi-line detection and intelligent field mapping for LIMS templates.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
            <a href="SOPComparisionTool.html" class="tool-item"><div class="tool-icon">📝</div><div class="tool-content"><h3>SOP Version Comparator</h3><p>AI-powered side-by-side comparison with change detection, training impact analysis, and compliance reports.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
            <a href="AdvancedUserAcessMatrixTool.html" class="tool-item"><div class="tool-icon">🔐</div><div class="tool-content"><h3>User Access Matrix Builder</h3><p>Visual RBAC matrix with AI-powered segregation of duties conflict detection and GxP audit reports.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
            <a href="ScreenshotToTestEvidenceConverterTool.html" class="tool-item"><div class="tool-icon">📸</div><div class="tool-content"><h3>Screenshot Evidence Converter</h3><p>Batch annotate test screenshots with metadata, timestamps, and auto-generate PDF evidence appendices.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
            <a href="AdvancedRiskAssessmentTool.html" class="tool-item"><div class="tool-icon">🎯</div><div class="tool-content"><h3>Advanced Risk Assessment Tool</h3><p>GAMP 5 and ICH Q9 compliant risk scoring with automated validation strategy recommendations.</p><div class="app-badge">Tool</div></div><div class="tool-arrow">→</div></a>
          </div>
        </div>
      </div>
    </section>

<!-- QMS Applications -->
<section id="qms">
  <div class="container">
    <div class="section-head">
      <h2>Quality Management System Applications</h2>
      <p>Interactive pharmaceutical QMS applications aligned with FDA 21 CFR Part 820, EU GMP, ICH Q10, and ISO 13485</p>
    </div>

    <div class="app-grid">
      <a href="change-management.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            <path d="M9 12l2 2 4-4"/>
          </svg>
        </div>
        <h4>Change Control</h4>
        <p>Manage pharmaceutical change requests with full GMP compliance</p>
        <div class="app-badge">Application</div>
      </a>

      <a href="capa-tool.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #ec4899, #f472b6);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 2v3m0 14v3M2 12h3m14 0h3"/>
          </svg>
        </div>
        <h4>CAPA</h4>
        <p>Plan, execute, and track corrective and preventive actions systematically</p>
        <div class="app-badge">Application</div>
      </a>

      <a href="riskassessment-tool.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3v18h18"/>
            <path d="M7 16l4-4 4 4 6-6"/>
          </svg>
        </div>
        <h4>Risk Assessment</h4>
        <p>Identify, assess, and mitigate risks using ICH Q9 compliant frameworks</p>
        <div class="app-badge">Application</div>
      </a>

      <a href="audit-inspection-tool.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #14b8a6, #2dd4bf);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="M21 21l-4.35-4.35"/>
          </svg>
        </div>
        <h4>Audit & Inspection</h4>
        <p>Digital audit trails and inspection readiness with full documentation</p>
        <div class="app-badge">Application</div>
      </a>

      <a href="training-tool.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 14l9-5-9-5-9 5 9 5z"/>
            <path d="M12 14l6.16-3.422A12 12 0 0121 14.667V18a2 2 0 01-2 2H5a2 2 0 01-2-2v-3.333a12 12 0 012.84-7.089L12 14z"/>
          </svg>
        </div>
        <h4>Training</h4>
        <p>Ensure training effectiveness tied to system and process changes</p>
        <div class="app-badge">Application</div>
      </a>

      <a href="non-conformance-tool.html" class="app-card">
        <div class="app-icon" style="background: linear-gradient(135deg, #ef4444, #f87171);">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/>
            <line x1="12" y1="9" x2="12" y2="13"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
        </div>
        <h4>Non-Conformance</h4>
        <p>Track and manage quality deviations and non-conforming products</p>
        <div class="app-badge">Application</div>
      </a>
      
    </div>
  </div>
</section>

<!-- QMS Procedures -->
<section id="QMS Procedures">
  <div class="container">
    <div class="section-head">
      <h2>Quality Management Procedures</h2>
      <p>Complete pharmaceutical QMS procedures aligned with FDA 21 CFR Part 820, EU GMP, ICH Q10, and ISO 13485</p>
    </div>
    
    <div class="app-grid" id="qmsProceduresGrid">
      <!-- QMS Procedures will be rendered dynamically by JavaScript -->
    </div>
  </div>
</section>



<!-- GxP Validation & Project Management -->

<section id="validation">
  <div class="container">
    <div class="section-head">
      <h2>GxP Validation & Project Management</h2>
      <p>Manage validation and compliance projects with Agile, Waterfall, and Hybrid methodologies</p>
    </div>

        <div class="qms-grid" style="gap: 24px; margin-top: 0;">

   
<a href="GxP Validation & Project Management Tool.html" class="app-card">
  <div class="app-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M9 12l2 2 4-4"/>
      <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      <path d="M12 2v4m0 12v4m8-10h-4m-12 0H2"/>
    </svg>
  </div>
  <h4>End-to-End Validation</h4>
  <p>Complete lifecycle validation and project management application for GxP computerized systems meeting regulatory requirements</p>
  <div class="app-badge">Application</div>
</a>

     
     <!-- <div class="module-card" onclick="window.location.href='RTMtool.html'" style="cursor: pointer;">
        <h4>📊 Traceability Matrix</h4>
        <p>Auto-link requirements to specifications, test scripts, and execution results with full audit trail</p>
      </div> -->
      
    </div>
    </div>
  </div>
</section>


<!-- Validation Courses with Payment -->
<section id="ValQMS Academy">
  <div class="container">
    <div class="section-head">
      <h2>ValQMS Academy</h2>
      <p>Purchase individual courses or subscribe for unlimited access to all training content</p>
    </div>

    <div class="app-grid" id="coursesGrid">
      <!-- Courses will be rendered dynamically by JavaScript -->
    </div>

    <!-- My Purchased Courses -->
    <div class="my-courses" style="margin-top: 3rem; padding: 2rem; background: var(--glass); border: 1px dashed var(--border); border-radius: 18px;">
      <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">My Purchased Courses</h3>
      <div id="myCoursesList" class="empty-state" style="color: var(--text-dim); font-style:normal;">
        Login to view your purchased courses.
      </div>
    </div>
  </div>
</section>




    <!-- Resources -->
    <section id="resources">
      <div class="container">
        <div class="section-head">
          <h2>Regulatory Resources</h2>
          <p>Stay compliant with latest guidelines and regulatory updates</p>
        </div>
        <div class="resources-grid">
          <div class="resource-card">
            <div class="resource-icon">📚</div>
            <h3>Key Guidelines</h3>
            <ul>
              <li>📄 <a href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents/part-11-electronic-records-electronic-signatures-scope-and-application" target="_blank">FDA 21 CFR Part 11 - Electronic Records</a></li>
              <li>📄 <a href="https://www.fda.gov/medical-devices/quality-system-qs-regulationdevice-good-manufacturing-practices" target="_blank">FDA 21 CFR Part 820 - Quality System Regulation</a></li>
              <li>📄 <a href="https://www.ema.europa.eu/en/human-regulatory/research-development/scientific-guidelines/multidisciplinary/multidisciplinary-quality" target="_blank">EU GMP Guidelines - Annex 11</a></li>
              <li>📄 <a href="https://database.ich.org/sites/default/files/Q10%20Guideline.pdf" target="_blank">ICH Q10 - Pharmaceutical Quality System</a></li>
              <li>📄 <a href="https://database.ich.org/sites/default/files/Q9_Guideline.pdf" target="_blank">ICH Q9 - Quality Risk Management</a></li>
              <li>📄 <a href="https://www.iso.org/standard/59752.html" target="_blank">ISO 13485 - Medical Devices QMS</a></li>
              <li>📄 <a href="https://www.iso.org/standard/62085.html" target="_blank">ISO 9001 - Quality Management Systems</a></li>
              <li>📄 <a href="https://www.fda.gov/media/116573/download" target="_blank">FDA Computer System Validation Guidance</a></li>
              <li>📄 <a href="https://www.ema.europa.eu/en/data-integrity" target="_blank">EMA Data Integrity Guidelines</a></li>
              <li>📄 <a href="https://www.fda.gov/vaccines-blood-biologics/guidance-compliance-regulatory-information-biologics/biologics-guidances" target="_blank">FDA Biologics Guidances</a></li>
              <li>📄 <a href="https://www.raps.org" target="_blank">RAPS - Regulatory Affairs Professionals Society</a></li>
            </ul>
          </div>
          <div class="resource-card">
            <div class="resource-icon">📰</div>
            <h3>Regulatory Updates</h3>
            <ul>
              <li>🌐 <a href="https://www.fda.gov" target="_blank">FDA Guidance Documents</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu" target="_blank">EMA News & Events</a></li>
              <li>🌐 <a href="https://www.who.int" target="_blank">WHO Quality Assurance</a></li>
              <li>🌐 <a href="https://www.fda.gov/news-events/fda-newsroom" target="_blank">FDA Newsroom - Latest Updates</a></li>
              <li>🌐 <a href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents" target="_blank">FDA Guidance Documents</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/news-events" target="_blank">EMA News & Events</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/human-regulatory/research-development/scientific-guidelines" target="_blank">EMA Scientific Guidelines</a></li>
              <li>🌐 <a href="https://www.ich.org/page/news" target="_blank">ICH News & Updates</a></li>
              <li>🌐 <a href="https://www.who.int/news-room" target="_blank">WHO News Room</a></li>
              <li>🌐 <a href="https://www.picscheme.org/en/news" target="_blank">PIC/S News & Updates</a></li>
              <li>🌐 <a href="https://www.fda.gov/drugs/drug-approvals-and-databases/drug-safety-communications" target="_blank">FDA Drug Safety Communications</a></li>
              <li>🌐 <a href="https://www.fda.gov/medical-devices/device-advice-comprehensive-regulatory-assistance/medical-device-recalls" target="_blank">FDA Medical Device Recalls</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/human-regulatory/post-authorisation/pharmacovigilance" target="_blank">EMA Pharmacovigilance Updates</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/warning-letters" target="_blank">FDA Warning Letters</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/compliance-actions-and-activities" target="_blank">FDA Compliance Actions</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/news-events/regulatory-updates" target="_blank">EMA Regulatory Updates</a></li>
              <li>🌐 <a href="https://www.canada.ca/en/health-canada/services/drugs-health-products/drug-products/applications-submissions/guidance-documents.html" target="_blank">Health Canada Guidance</a></li>
              <li>🌐 <a href="https://www.mhra.gov.uk/news-and-events/" target="_blank">MHRA News & Publications</a></li>
              <li>🌐 <a href="https://www.tga.gov.au/news-and-events" target="_blank">TGA (Australia) News</a></li>
              <li>🌐 <a href="https://www.pmda.go.jp/english/index.html" target="_blank">PMDA (Japan) Updates</a></li>
              <li>🌐 <a href="https://cdsco.gov.in/opencms/opencms/en/Home/" target="_blank">CDSCO (India) - Central Drugs Standard Control</a></li>
              <li>🌐 <a href="https://www.nmpa.gov.cn/en/" target="_blank">NMPA (China) News</a></li>
            </ul>
          </div>
          <div class="resource-card">
            <div class="resource-icon">📰</div>
            <h3>Regulatory Observations</h3>
            <ul>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/inspection-references/inspection-guides" target="_blank">FDA Inspection Guides</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/inspection-references/inspection-reports" target="_blank">FDA Establishment Inspection Reports (EIRs)</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/warning-letters" target="_blank">FDA Warning Letters Database</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/compliance-actions-and-activities/warning-letters" target="_blank">FDA Recent Warning Letters</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/compliance-actions-and-activities/untitled-letters" target="_blank">FDA Untitled Letters</a></li>
              <li>🌐 <a href="https://www.accessdata.fda.gov/scripts/cder/clia/index.cfm" target="_blank">FDA Clinical Laboratory Improvement Amendments (CLIA)</a></li>
              <li>🌐 <a href="https://datadashboard.fda.gov/ora/firmssearch.htm" target="_blank">FDA Inspection Classifications Database</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/human-regulatory/research-development/compliance/good-manufacturing-practice/inspection-database" target="_blank">EMA GMP Inspection Database</a></li>
              <li>🌐 <a href="https://www.ema.europa.eu/en/human-regulatory/post-authorisation/compliance/non-compliance" target="_blank">EMA Non-Compliance Reports</a></li>
              <li>🌐 <a href="https://www.picscheme.org/en/inspection-reliance" target="_blank">PIC/S Inspection Reliance Database</a></li>
              <li>🌐 <a href="https://www.mhra.gov.uk/inspection-and-enforcement/" target="_blank">MHRA Inspection Reports</a></li>
              <li>🌐 <a href="https://www.canada.ca/en/health-canada/services/drugs-health-products/compliance-enforcement/inspections.html" target="_blank">Health Canada Inspection Reports</a></li>
              <li>🌐 <a href="https://www.tga.gov.au/compliance-action" target="_blank">TGA Compliance Actions</a></li>
              <li>🌐 <a href="https://www.who.int/teams/regulation-prequalification/inspection" target="_blank">WHO Inspection Reports</a></li>
              <li>🌐 <a href="https://www.gmp-compliance.org/gmp-news/fda-warning-letters" target="_blank">GMP Compliance - FDA Warning Letters Analysis</a></li>
              <li>🌐 <a href="https://www.fda.gov/inspections-compliance-enforcement-and-criminal-investigations/inspection-references/responding-form-fda-483" target="_blank">FDA - Responding to Form 483</a></li>
              <li>🌐 <a href="https://www.raps.org/news-and-articles/news-articles/how-to-respond-to-fda-warning-letter" target="_blank">RAPS - How to Respond to Warning Letters</a></li>
              <li>🌐 <a href="https://www.gmp-compliance.org/gmp-news/warning-letter-response" target="_blank">GMP Compliance - Warning Letter Response Guide</a></li>
              <li>🌐 <a href="https://www.ispe.org/pharmaceutical-engineering/ispeak/inspection-readiness-and-response" target="_blank">ISPE - Inspection Readiness & Response</a></li>
              <li>🌐 <a href="https://www.pda.org/resources/regulatory-resources/inspection-remediation" target="_blank">PDA - Inspection & Remediation Resources</a></li>
              <li>🌐 <a href="https://www.fda.gov/drugs/pharmaceutical-quality-resources/facts-about-current-good-manufacturing-practices-cgmps" target="_blank">FDA CGMP Change Control Findings</a></li>
              <li>🌐 <a href="https://www.gmp-compliance.org/gmp-news/change-control" target="_blank">GMP Compliance - Change Control Violations</a></li>
              <li>🌐 <a href="https://www.pharmaceutical-technology.com/features/change-control-common-inspection-findings/" target="_blank">Pharma Tech - Change Control Inspection Findings</a></li>
              <li>🌐 <a href="https://www.in-pharmatechnologist.com/Article/Common-change-control-deficiencies-in-pharma" target="_blank">In-Pharma - Change Control Deficiencies</a></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about">
      <div class="container">
        <div class="section-head">
          <h2>Why ValQMS?</h2>
          <p>Built by validation experts for validation experts</p>
        </div>
        <div class="qms-grid">
          <div class="module-card"><h4>⚡ All-in-One QMS Platform</h4><p>Change control, CAPA, deviations, training, risk management, and audit tools - all integrated in one platform</p></div>
          <div class="module-card"><h4>🔒 End-to-End Validation</h4><p>Complete project and validation lifecycle management from GxP assessment to go-live with GAMP 5 compliance</p></div>
          <div class="module-card"><h4>☁️ Zero Installation</h4><p>Zero installation required. Access anywhere, anytime. Your validation data is secure and backed up automatically</p></div>
          <div class="module-card"><h4>🎯 Automated Workflows</h4><p>Smart GxP assessment, automatic version tracking, and risk-based validation. Reduce manual effort by 70%</p></div>
          <div class="module-card"><h4>🛡️ Regulatory Compliant</h4><p>Built-in compliance with FDA, EU GMP Annex 11, and GAMP 5 guidelines with complete audit trails</p></div>
          <div class="module-card"><h4>👥 Team Collaboration</h4><p>Cloud-based platform enabling real-time collaboration across validation, QA, and IT teams. Track progress, assign tasks, and manage deliverables seamlessly.</p></div>
          <div class="module-card"><h4>📊 Real-Time Analytics</h4><p>Live dashboards and reports. Monitor project status, resource allocation, and validation metrics in real-time</p></div>
          <div class="module-card"><h4>🚀 Inspection-Ready</h4><p>Complete audit trails, traceability matrix, and instant reporting. Be audit-ready at all times</p></div>       
        </div>
      </div>
    </section>
  </main>

  <!-- MODERN FOOTER -->
  <footer>
    <div class="footer-content">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-brand">
            <a href="index.html" class="logo">
              <div class="logo-mark"><img src="favicon.jpg" alt="ValQMS"></div>
              <span>ValQMS</span>
            </a>
            <p>Empowering Life Sciences organizations with browser-native advanced tools for validation, automation, and regulatory compliance.</p><p>For any help or support please drop an email at <b>support@valqms.com</b></p>
          </div>
      <div class="footer-col">
        <h5>Product</h5>
        <ul>
          <li><a href="#tools">Smart Tools</a></li>
          <li><a href="#qms">QMS Applications</a></li>
          <li><a href="#qms-procedures">QMS Procedures</a></li>
          <li><a href="#validation">GxP Validation & Project Management</a></li>
          <li><a href="#ValQMS Academy">ValQMS Academy</a></li>
          <li><a href="#resources">Resources</a></li>
        </ul>
      </div>
          <div class="footer-col">
            <h5>Company</h5>
            <ul>
              <li><a href="#about">About</a></li>
              <li><a href="mailto:support@valqms.com">Contact</a></li>
              <li><a href="Privacy.html">Privacy</a></li>
              <li><a href="Terms.html">Terms</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h5>Regulatory</h5>
            <ul>
              <li><a href="https://www.fda.gov" target="_blank">FDA</a></li>
              <li><a href="https://www.ema.europa.eu" target="_blank">EMA</a></li>
              <li><a href="https://www.who.int" target="_blank">WHO</a></li>
              <li><a href="https://www.ich.org" target="_blank">ICH</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>© 2025 ValQMS. Built with ❤️ by validation experts for validation experts</p>
          <div class="footer-socials">
           <!-- <a href="#" title="Twitter">𝕏</a> -->
            <a href="#" title="LinkedIn">in</a>
           <!-- <a href="#" title="GitHub">{ }</a> -->
          </div>
        </div>
      </div>
    </div>
  </footer>

<!-- Profile Panel -->
<div id="profilePanel">
  <div class="profile-content">
    <button class="close-btn" id="closeProfileBtn">×</button>
    
    <div class="profile-header">
      <div class="profile-avatar" id="profileAvatar">NK</div>
      <h2>My Profile</h2>
    </div>
    
    <div id="profileMsg"></div>
    
    <div>
      <label>Full Name</label>
      <input id="pf_full_name" type="text" placeholder="Your full name">
    </div>
    
    <div>
      <label>Email</label>
      <input id="pf_email" type="email" placeholder="you@company.com" disabled>
    </div>
    
    <div>
      <label>Mobile Number</label>
      <input id="pf_phone" type="tel" placeholder="+91-XXXXXXXXXX">
    </div>
    
    <div class="btn-group">
      <button id="saveProfileBtn" class="btn btn-primary">Save Changes</button>
      <button class="btn btn-secondary" onclick="document.getElementById('profilePanel').style.display='none'">Cancel</button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script type="module">
  const SUPABASE_URL = 'https://nufpaayytxtjihqrvtfi.supabase.co';
  const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51ZnBhYXl5dHh0amlocXJ2dGZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMzA5NjIsImV4cCI6MjA3NTkwNjk2Mn0.766ENc3lMQSVJIsyxK6xlPE5DNlB3Np3eeXxvcoRGGY';

  const { createClient } = supabase;
  const sb = createClient(SUPABASE_URL, SUPABASE_KEY);

     window.sb = sb;

    // Check authentication immediately
  (async function checkAuth() {
    const { data: { session }, error } = await sb.auth.getSession();
    
    if (!session) {
      // No session - redirect to login
      console.log('No active session. Redirecting to login...');
      window.location.href = 'login.html';
      return;
    }
    
    // User is authenticated - show content
    console.log('User authenticated:', session.user.email);
    
    // Update UI with user info
    if (session && session.user) {
      const userMenu = document.getElementById('userMenu');
      const loginLink = document.getElementById('loginLink');
      const userBadge = document.getElementById('userBadge');
      
      if (loginLink) loginLink.style.display = 'none';
      if (userMenu) userMenu.style.display = 'inline-block';
      
      if (userBadge) {
        const displayName = session.user.user_metadata?.full_name || session.user.email.split('@')[0];
        userBadge.textContent = getInitials(displayName);
      }
      
      // Save to localStorage
      localStorage.setItem('valqmsUser', JSON.stringify({
        email: session.user.email,
        name: session.user.user_metadata?.full_name || session.user.email.split('@')[0],
        picture: session.user.user_metadata?.avatar_url,
        loggedIn: true,
        provider: session.user.app_metadata?.provider || 'email',
        timestamp: Date.now()
      }));
    }
  })();

  // Initialize theme FIRST
  const savedTheme = localStorage.getItem('valqmsTheme') || 'green';
  const savedBg = localStorage.getItem('valqmsBg') || 'mesh';
  document.documentElement.setAttribute('data-theme', savedTheme);
  document.documentElement.setAttribute('data-bg', savedBg);

  // Background selector
  const bgBtn = document.getElementById('bgBtn');
  const bgDropdown = document.getElementById('bgDropdown');
  const themeBtn = document.getElementById('themeBtn');
  const themeDropdown = document.getElementById('themeDropdown');

if (bgBtn && bgDropdown) {
  bgBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    if (themeDropdown) {
      themeDropdown.classList.remove('active');
    }
    bgDropdown.classList.toggle('active');
  });

    document.querySelectorAll('.bg-option').forEach(opt => {
      opt.addEventListener('click', () => {
        const bg = opt.dataset.bg;
        document.documentElement.setAttribute('data-bg', bg);
        localStorage.setItem('valqmsBg', bg);
        bgDropdown.classList.remove('active');
      });
    });
  }

// Theme selector
if (themeBtn && themeDropdown) {
  themeBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    // Close background dropdown if it's open
    if (bgDropdown) {
      bgDropdown.classList.remove('active');
    }
    // Toggle theme dropdown
    themeDropdown.classList.toggle('active');
  });

  document.querySelectorAll('.theme-option').forEach(opt => {
    opt.addEventListener('click', () => {
      const theme = opt.dataset.theme;
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('valqmsTheme', theme);
      themeDropdown.classList.remove('active');
    });
  });
}

// Close dropdowns on outside click
document.addEventListener('click', () => {
  if (bgDropdown) bgDropdown.classList.remove('active');
  if (themeDropdown) themeDropdown.classList.remove('active');
});

// Prevent dropdown close when clicking inside
if (bgDropdown) {
  bgDropdown.addEventListener('click', (e) => e.stopPropagation());
}
if (themeDropdown) {
  themeDropdown.addEventListener('click', (e) => e.stopPropagation());
}

  // User menu setup
  const loginLink = document.getElementById('loginLink');
  const userMenu = document.getElementById('userMenu');
  const userBadge = document.getElementById('userBadge');
  const userDropdown = document.getElementById('userDropdown');
  const profileBtn = document.getElementById('profileBtn');
  const logoutBtn = document.getElementById('logoutBtn');
  const profilePanel = document.getElementById('profilePanel');

  function getInitials(name) {
    if (!name) return 'U';
    const parts = name.trim().split(' ');
    if (parts.length >= 2) {
      return parts[0][0] + parts[parts.length - 1][0];
    }
    return name[0].toUpperCase();
  }

  async function updateUserUI() {
    try {
      const { data: { session } } = await sb.auth.getSession();
      
      if (session && session.user) {
        // User is logged in - show user menu
        if (loginLink) loginLink.style.display = 'none';
        if (userMenu) userMenu.style.display = 'inline-block';
        
        if (userBadge) {
          const displayName = session.user.user_metadata?.full_name || session.user.email.split('@')[0];
          userBadge.textContent = getInitials(displayName);
        }
        
        // Save to localStorage
        localStorage.setItem('valqmsUser', JSON.stringify({
          email: session.user.email,
          name: session.user.user_metadata?.full_name || session.user.email.split('@')[0],
          picture: session.user.user_metadata?.avatar_url,
          loggedIn: true,
          provider: session.user.app_metadata?.provider || 'email',
          timestamp: Date.now()
        }));
      } else {
        // No session - show login button
        if (userMenu) userMenu.style.display = 'none';
        if (loginLink) loginLink.style.display = 'inline-block';
        localStorage.removeItem('valqmsUser');
      }
    } catch (error) {
      console.error('Error checking auth:', error);
      if (userMenu) userMenu.style.display = 'none';
      if (loginLink) loginLink.style.display = 'inline-block';
    }
  }

  // Initialize user UI
  updateUserUI();

  // Toggle user dropdown
  if (userBadge && userDropdown) {
    userBadge.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.classList.toggle('active');
      if (themeDropdown) themeDropdown.classList.remove('active');
      if (bgDropdown) bgDropdown.classList.remove('active');
    });

    userDropdown.addEventListener('click', e => e.stopPropagation());
  }

  // Open profile panel
  if (profileBtn) {
    profileBtn.addEventListener('click', async (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (userDropdown) userDropdown.classList.remove('active');
      if (profilePanel) profilePanel.style.display = 'block';
      await loadProfile();
    });
  }

  // Logout functionality
  if (logoutBtn) {
    logoutBtn.addEventListener('click', async (e) => {
      e.preventDefault();
      e.stopPropagation();
      
      try {
        await sb.auth.signOut();
        localStorage.removeItem('valqmsUser');
        
        if (userDropdown) userDropdown.classList.remove('active');
        if (userMenu) userMenu.style.display = 'none';
        if (loginLink) loginLink.style.display = 'inline-block';
        if (userBadge) userBadge.textContent = 'U';
        
        alert('You have been logged out successfully');
        setTimeout(() => window.location.href = 'login.html', 500);
      } catch (error) {
        console.error('Logout error:', error);
        alert('Logout failed. Please try again.');
      }
    });
  }

  // Profile panel functions
  const profileMsg = document.getElementById('profileMsg');
  const closeProfileBtn = document.getElementById('closeProfileBtn');
  const saveProfileBtn = document.getElementById('saveProfileBtn');

  async function loadProfile() {
    if (!profileMsg) return;
    profileMsg.textContent = 'Loading...';
    profileMsg.style.color = 'var(--text-dim)';
    
    try {
      const { data: { session } } = await sb.auth.getSession();
      if (!session) throw new Error('Not authenticated');
      
      const user = session.user;
      
      let { data: profile, error: fetchError } = await sb
        .from('user_profiles')
        .select('full_name, email, phone')
        .eq('id', user.id)
        .single();

      if (fetchError && fetchError.code !== 'PGRST116') {
        throw fetchError;
      }

      let profileData = profile;

      if (!profileData) {
        const insertData = {
          id: user.id,
          email: user.email,
          full_name: user.user_metadata?.full_name || user.email.split('@')[0] || '',
          phone: ''
        };

        const { data: created, error: insertError } = await sb
          .from('user_profiles')
          .insert(insertData)
          .select('full_name, email, phone')
          .single();

        if (insertError) throw insertError;
        profileData = created;
      }

      const fullNameInput = document.getElementById('pf_full_name');
      const emailInput = document.getElementById('pf_email');
      const phoneInput = document.getElementById('pf_phone');

      if (fullNameInput) fullNameInput.value = profileData.full_name || '';
      if (emailInput) emailInput.value = profileData.email || user.email;
      if (phoneInput) phoneInput.value = profileData.phone || '';

      // Update avatar
      const profileAvatar = document.getElementById('profileAvatar');
      if (profileAvatar && profileData.full_name) {
        profileAvatar.textContent = getInitials(profileData.full_name);
      }

      profileMsg.textContent = '';
    } catch (error) {
      console.error('Load profile error:', error);
      profileMsg.style.color = '#f87171';
      profileMsg.textContent = 'Error loading profile: ' + error.message;
    }
  }

  async function saveProfile() {
    if (!profileMsg) return;
    profileMsg.textContent = 'Saving...';
    profileMsg.style.color = 'var(--text-dim)';
    
    try {
      const { data: { session } } = await sb.auth.getSession();
      if (!session) throw new Error('Not authenticated');
      
      const user = session.user;
      const fullName = document.getElementById('pf_full_name')?.value.trim() || '';
      const phone = document.getElementById('pf_phone')?.value.trim() || '';
      const email = document.getElementById('pf_email')?.value.trim() || user.email;

      const updates = {
        id: user.id,
        full_name: fullName || null,
        phone: phone || null,
        email,
        updated_at: new Date().toISOString()
      };

      const { error } = await sb
        .from('user_profiles')
        .upsert(updates, { onConflict: 'id' });

      if (error) throw error;

      // Update localStorage
      const userData = JSON.parse(localStorage.getItem('valqmsUser') || '{}');
      userData.name = fullName;
      userData.phone = phone;
      localStorage.setItem('valqmsUser', JSON.stringify(userData));

      // Update UI
      if (userBadge) {
        userBadge.textContent = getInitials(fullName);
      }

      profileMsg.style.color = 'var(--accent)';
      profileMsg.textContent = '✓ Profile updated successfully!';
      
      setTimeout(() => {
        if (profilePanel) profilePanel.style.display = 'none';
        profileMsg.textContent = '';
      }, 1500);
    } catch (error) {
      console.error('Save profile error:', error);
      profileMsg.style.color = '#f87171';
      profileMsg.textContent = 'Save failed: ' + error.message;
    }
  }

  if (saveProfileBtn) {
    saveProfileBtn.addEventListener('click', saveProfile);
  }

  if (closeProfileBtn) {
    closeProfileBtn.addEventListener('click', () => {
      if (profilePanel) profilePanel.style.display = 'none';
    });
  }

  // Close profile panel on backdrop click
  if (profilePanel) {
    profilePanel.addEventListener('click', (e) => {
      if (e.target === profilePanel) {
        profilePanel.style.display = 'none';
      }
    });
  }

  // Auth state listener
  sb.auth.onAuthStateChange((event, session) => {
    console.log('Auth state changed:', event);
    
    if (event === 'SIGNED_IN' && session) {
      localStorage.setItem('valqmsUser', JSON.stringify({
        email: session.user.email,
        name: session.user.user_metadata?.full_name || session.user.email.split('@')[0],
        picture: session.user.user_metadata?.avatar_url,
        loggedIn: true,
        provider: session.user.app_metadata?.provider || 'email',
        timestamp: Date.now()
      }));
      updateUserUI();
    } else if (event === 'SIGNED_OUT') {
      localStorage.removeItem('valqmsUser');
      if (userMenu) userMenu.style.display = 'none';
      if (loginLink) loginLink.style.display = 'inline-block';
      if (userBadge) userBadge.textContent = 'U';
    }
  });

// ========================================
// RAZORPAY PAYMENT INTEGRATION WITH SUPABASE
// ========================================
const RAZORPAY_KEY_ID = 'rzp_test_RWogQofYpuwRHW'; // TODO: Replace with your Razorpay Key ID

// Course icons (matching your app-card style)
const courseIcons = {
  csv: `<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M3 4h18v14H3z"/><path d="M3 10h18"/>
  </svg>`,
  annex: `<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
  </svg>`,
  qms: `<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/><path d="M9 12l2 2 4-4"/>
  </svg>`,
  ai: `<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
  </svg>`,
  subscription: `<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M4 6h16M4 12h16M4 18h16"/>
  </svg>`
};

const courseGradients = {
  csv: 'linear-gradient(135deg, #3b82f6, #60a5fa)',
  annex: 'linear-gradient(135deg, #8b5cf6, #a78bfa)',
  qms: 'linear-gradient(135deg, #10b981, #34d399)',
  ai: 'linear-gradient(135deg, #f59e0b, #f97316)',
  subscription: 'linear-gradient(135deg, #06b6d4, #22d3ee)'
};

// QMS Procedure Icons - FIXED TO MATCH YOUR SUPABASE SLUGS
const qmsIcons = {
  'change-control': `<div style="font-size: 40px; line-height: 1;">📋</div>`,
  'document-management': `<div style="font-size: 40px; line-height: 1;">📄</div>`,  // Fixed
  'complaint-management': `<div style="font-size: 40px; line-height: 1;">📞</div>`,  // Fixed
  'non-conformance-management': `<div style="font-size: 40px; line-height: 1;">❌</div>`,  // Fixed
  'audit-inspection': `<div style="font-size: 40px; line-height: 1;">🔍</div>`,  // Fixed
  'risk-management': `<div style="font-size: 40px; line-height: 1;">⚠️</div>`,  // Fixed
  'productlifecycle-management': `<div style="font-size: 40px; line-height: 1;">🔄</div>`,  // Fixed
  'deviation-management': `<div style="font-size: 40px; line-height: 1;">📊</div>`,  // Fixed
  'capa-management': `<div style="font-size: 40px; line-height: 1;">🎯</div>`,  // Fixed
  'supplier-management': `<div style="font-size: 40px; line-height: 1;">🏭</div>`,  // Fixed
  'training-management': `<div style="font-size: 40px; line-height: 1;">🎓</div>`,  // Added
  'validation-management': `<div style="font-size: 40px; line-height: 1;">✅</div>`  // Added
};

const qmsGradients = {
  'change-control': 'linear-gradient(135deg, #10b981, #34d399)',
  'document-management': 'linear-gradient(135deg, #8b5cf6, #a78bfa)',
  'complaint-management': 'linear-gradient(135deg, #f59e0b, #fb923c)',
  'non-conformance-management': 'linear-gradient(135deg, #dc2626, #ef4444)',
  'audit-inspection': 'linear-gradient(135deg, #ec4899, #f472b6)',
  'risk-management': 'linear-gradient(135deg, #f97316, #fb923c)',
  'productlifecycle-management': 'linear-gradient(135deg, #0ea5e9, #38bdf8)',
  'deviation-management': 'linear-gradient(135deg, #ef4444, #f87171)',
  'capa-management': 'linear-gradient(135deg, #3b82f6, #60a5fa)',
  'supplier-management': 'linear-gradient(135deg, #06b6d4, #22d3ee)',
  'training-management': 'linear-gradient(135deg, #10b981, #34d399)',
  'validation-management': 'linear-gradient(135deg, #6366f1, #818cf8)'
};



// Render courses from Supabase
async function renderCourses() {
  const grid = document.getElementById('coursesGrid');
  if (!grid) return;
  
  try {
    // Fetch products from Supabase
const { data: products, error } = await sb
  .from('products')
  .select('*')
  .eq('active', true)
  .neq('type', 'procedure')  // Exclude procedures
  .order('type', { ascending: false });
    
    if (error) throw error;
    
    grid.innerHTML = '';
    
    products.forEach(product => {
      const priceInRupees = product.price_in_paise / 100;
      const iconKey = product.slug.includes('csv') ? 'csv' :
                     product.slug.includes('annex') ? 'annex' :
                     product.slug.includes('qms') ? 'qms' :
                     product.slug.includes('ai') ? 'ai' : 'subscription';
      
      const isSubscription = product.type === 'subscription';
      const priceDisplay = isSubscription ? `₹${priceInRupees}/month` : `₹${priceInRupees}`;
      
grid.innerHTML += `
  <div class="app-card">
    <div class="app-icon" style="background: ${courseGradients[iconKey]};">
      ${courseIcons[iconKey]}
    </div>
    <h4>${product.title}</h4>
    <p>${product.description || ''}</p>
    <div class="price-tag">${priceDisplay}</div>
    <div class="app-badge" style="background: ${isSubscription ? courseGradients.subscription : 'linear-gradient(135deg, var(--accent), var(--accent-bright))'}">${isSubscription ? 'Subscription' : 'Course'}</div>
    <div style="margin-top: 14px; display: flex; gap: 8px;">
      <button onclick="previewCourse('${product.slug}');" style="flex: 1; min-width: 85px; padding: 10px 14px; border: none; border-radius: 8px; background: linear-gradient(135deg, var(--accent), var(--accent-bright)); color: #000; font-size: 14px; cursor: pointer; transition: all 0.3s;">
        <span>Preview</span>
      </button>
      <button onclick="${isSubscription ? 'subscribe' : 'buyCourse'}('${product.slug}');" style="flex: 1; min-width: 85px; padding: 10px 14px; border: none; border-radius: 8px; background: linear-gradient(135deg, var(--accent), var(--accent-bright)); color: #000; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.3s;">
        <span>${isSubscription ? 'Subscribe' : 'Buy'}</span>
      </button>
    </div>
  </div>
`;

    });
  } catch (error) {
    console.error('Error loading courses:', error);
    grid.innerHTML = '<p style="color: var(--text-dim); text-align: center;">Error loading courses. Please refresh.</p>';
  }
}

// Render QMS Procedures with Purchase Status Check - ENHANCED DEBUG
async function renderQMSProcedures() {
  const grid = document.getElementById('qmsProceduresGrid');
  if (!grid) return;
  
  try {
    // Get user session
    const { data: { session } } = await sb.auth.getSession();
    console.log('🔍 Current user ID:', session?.user?.id);
    console.log('🔍 Current user email:', session?.user?.email);
    
    // Fetch procedures
    const { data: products, error } = await sb
      .from('products')
      .select('*')
      .eq('type', 'procedure')
      .eq('active', true)
      .order('price_in_paise', { ascending: true });
    
    if (error) throw error;
    
    // Get user's purchases if logged in
    let purchasedSlugs = [];
    if (session) {
      // DETAILED DEBUG QUERY
      const { data: allPurchases, error: allPurchasesError } = await sb
        .from('purchases')
        .select('*')
        .eq('user_id', session.user.id);
      
      console.log('🔍 ALL user purchases (any status):', allPurchases);
      
      const { data: purchases, error: purchaseError } = await sb
        .from('purchases')
        .select('product_slug, status, created_at')
        .eq('user_id', session.user.id)
        .eq('status', 'paid');
      
      console.log('🔍 PAID purchases:', purchases);
      console.log('🔍 Purchase error:', purchaseError);
      
      if (!purchaseError && purchases) {
        purchasedSlugs = purchases.map(p => p.product_slug);
        console.log('✅ Purchased procedures:', purchasedSlugs);
      } else {
        console.log('⚠️ No purchases found or error:', purchaseError);
      }
    }
    
    grid.innerHTML = '';
    
    products.forEach(product => {
      const priceInRupees = product.price_in_paise / 100;
      const isFree = product.price_in_paise === 0;
      const isPurchased = purchasedSlugs.includes(product.slug);
      const iconKey = product.slug.replace('-sop', '');
      
      // Determine correct filename
      const fileName = product.slug === 'change-control-sop' ? 
        'change-control-sop_2.html' : 
        `${product.slug}.html`;
      
      console.log(`${product.slug}: isPurchased=${isPurchased}, isFree=${isFree}, in array=${purchasedSlugs.includes(product.slug)}`);
      
      grid.innerHTML += `
        <div class="app-card" style="position: relative; overflow: visible;">
          ${!isFree && !isPurchased ? 
            `<div style="position: absolute; top: 0; left: 0; width: 80px; height: 80px; overflow: hidden; z-index: 10;">
              <div style="position: absolute; top: 18px; left: -25px; width: 120px; text-align: center; transform: rotate(-45deg); background: linear-gradient(135deg, #f59e0b, #fb923c); padding: 4px 0; box-shadow: 0 3px 10px rgba(0,0,0,0.3);">
                <span style="color: #000; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;">Premium</span>
              </div>
            </div>` : ''
          }
          <div class="app-icon" style="background: ${qmsGradients[iconKey] || 'linear-gradient(135deg, #8b5cf6, #a78bfa)'};">
            ${qmsIcons[iconKey] || qmsIcons['document-management']}
          </div>
          <h4>${product.title}</h4>
          <p>${product.description || ''}</p>
          <div class="price-tag">${isFree ? 'FREE' : (isPurchased ? 'PURCHASED' : '₹' + priceInRupees)}</div>
          <div class="app-badge" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa)">SOP</div>
          <div style="margin-top: 14px;">
            ${isFree || isPurchased ? 
              `<button onclick="window.location.href='${fileName}'" style="width: 100%; padding: 10px 14px; border: none; border-radius: 8px; background: linear-gradient(135deg, #10b981, #34d399); color: #000; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.3s;">
                <span>Access Now</span>
              </button>` :
              `<button onclick="buyProcedure('${product.slug}');" style="width: 100%; padding: 10px 14px; border: none; border-radius: 8px; background: linear-gradient(135deg, var(--accent), var(--accent-bright)); color: #000; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.3s;">
                <span>Buy Now - ₹${priceInRupees}</span>
              </button>`
            }
          </div>
        </div>
      `;
  });
  } catch (error) {
    console.error('Error loading QMS procedures:', error);
  }
}



async function loadMyPurchases() {
  const myCoursesList = document.getElementById('myCoursesList');
  
  if (!myCoursesList) {
    console.log('myCoursesList element not found');
    return;
  }

  try {
    // Check if user is logged in
    const { data: { session }, error: sessionError } = await sb.auth.getSession();
    
    if (sessionError) {
      console.error('Session error:', sessionError);
      throw sessionError;
    }
    
    if (!session) {
      console.log('No session - user not logged in');
      myCoursesList.classList.add('empty-state');
      myCoursesList.innerHTML = 'Please login to see your courses.';
      return;
    }

    console.log('User logged in:', session.user.email);

    // Get purchases
    const { data: purchases, error: purchasesError } = await sb
      .from('purchases')
      .select('product_slug, created_at')
      .eq('user_id', session.user.id)
      .eq('status', 'paid')
      .order('created_at', { ascending: false });

    if (purchasesError) {
      console.error('Database error:', purchasesError);
      throw purchasesError;
    }

    console.log('All purchases:', purchases);

    if (!purchases || purchases.length === 0) {
      myCoursesList.classList.add('empty-state');
      myCoursesList.innerHTML = 'No purchased courses yet. Start learning today!';
      return;
    }

    // Filter out SOPs (products ending with -sop)
    const coursePurchases = purchases.filter(p => !p.product_slug.endsWith('-sop'));
    
    console.log('Filtered course purchases:', coursePurchases);

    if (coursePurchases.length === 0) {
      myCoursesList.classList.add('empty-state');
      myCoursesList.innerHTML = 'No purchased courses yet. Start learning today!';
      return;
    }

    // Render purchased courses
    myCoursesList.classList.remove('empty-state');
    myCoursesList.innerHTML = '';

    coursePurchases.forEach(purchase => {
      const product = courses.find(c => c.id === purchase.product_slug) 
                   || (purchase.product_slug === subscription.id ? subscription : null);
      
      if (product) {
        const badge = document.createElement('span');
        badge.className = 'purchased-course';
        badge.textContent = product.title;
        badge.style.cursor = 'pointer';
        badge.onclick = () => {
          window.location.href = `course-${purchase.product_slug}.html`;
        };
        myCoursesList.appendChild(badge);
      } else {
        console.warn('Product not found for slug:', purchase.product_slug);
      }
    });

  } catch (error) {
    console.error('Error in loadMyPurchases:', error);
    myCoursesList.classList.add('empty-state');
    myCoursesList.innerHTML = 'No purchased courses yet. Start learning today!';
  }
}



// Check if user already purchased a product
async function checkPurchase(productSlug) {
  const { data: { session } } = await sb.auth.getSession();
  if (!session) return false;
  
  const { data, error } = await sb
    .from('purchases')
    .select('id')
    .eq('user_id', session.user.id)
    .eq('product_slug', productSlug)
    .eq('status', 'paid')
    .single();
  
  return !!data;
}



// Open Razorpay Checkout
function openRazorpayCheckout({ amount, name, description, productSlug, purchaseId }) {
  return new Promise((resolve, reject) => {
    const options = {
      key: RAZORPAY_KEY_ID,
      amount: amount, // in paise
      currency: 'INR',
      name: 'ValQMS Academy',
      description: description,
      theme: {
        color: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#10b981'
      },
      handler: function (response) {
        resolve(response);
      },
      modal: {
        ondismiss: function() {
          reject(new Error('Payment cancelled'));
        }
      },
      prefill: {
        name: sb.auth.getUser().then(u => u.data?.user?.user_metadata?.fullname || ''),
        email: sb.auth.getUser().then(u => u.data?.user?.email || '')
      },
      notes: {
        product_slug: productSlug,
        purchase_id: purchaseId
      }
    };
    
    const rzp = new Razorpay(options);
    rzp.open();
  });
}

// Update purchase record after payment
async function updatePurchaseRecord(purchaseId, paymentData) {
  const { error } = await sb
    .from('purchases')
    .update({
      status: 'paid',
      payment_id: paymentData.razorpay_payment_id,
      order_id: paymentData.razorpay_order_id || null,
      signature: paymentData.razorpay_signature || null,
      updated_at: new Date().toISOString()
    })
    .eq('id', purchaseId);
  
  if (error) throw error;
}

// Grant access after payment
function grantAccess(productTitle) {
  const modal = document.getElementById('paymentModal');
  const message = document.getElementById('paymentMessage');
  
  if (message) {
    message.textContent = `Payment successful! You now have access to "${productTitle}".`;
  }
  
  if (modal) {
    modal.classList.add('active');
  }
  
  // Reload purchases
  loadMyPurchases();
}

// Buy course
window.buyCourse = async function(productSlug) {
  const { data: { session } } = await sb.auth.getSession();
  if (!session) {
    alert('Please login to purchase courses');
    window.location.href = 'login.html';
    return;
  }
  
  try {
    // Check if already purchased
    const alreadyPurchased = await checkPurchase(productSlug);
    if (alreadyPurchased) {
      alert('You already own this course!');
      return;
    }
    
    // Get product details
    const { data: product, error: prodError } = await sb
      .from('products')
      .select('*')
      .eq('slug', productSlug)
      .single();
    
    if (prodError) throw prodError;
    
    // Create purchase record
    const purchase = await createOrderRecord(productSlug, product.price_in_paise);
    
    // Open Razorpay
    const payment = await openRazorpayCheckout({
      amount: product.price_in_paise,
      name: product.title,
      description: 'One-time course purchase',
      productSlug: product.slug,
      purchaseId: purchase.id
    });
    
    // Update purchase record
    await updatePurchaseRecord(purchase.id, payment);
    
    // Grant access
    grantAccess(product.title);
    
  } catch (error) {
    console.error('Payment error:', error);
    if (error.message !== 'Payment cancelled') {
      alert('Payment failed. Please try again.');
    }
  }
};

// Subscribe
window.subscribe = async function(productSlug) {
  const { data: { session } } = await sb.auth.getSession();
  if (!session) {
    alert('Please login to subscribe');
    window.location.href = 'login.html';
    return;
  }
  
  try {
    // Check if already subscribed
    const alreadyPurchased = await checkPurchase(productSlug);
    if (alreadyPurchased) {
      alert('You already have an active subscription!');
      return;
    }
    
    const { data: product, error: prodError } = await sb
      .from('products')
      .select('*')
      .eq('slug', productSlug)
      .single();
    
    if (prodError) throw prodError;
    
    const purchase = await createOrderRecord(productSlug, product.price_in_paise);
    
    const payment = await openRazorpayCheckout({
      amount: product.price_in_paise,
      name: product.title,
      description: 'Monthly subscription',
      productSlug: product.slug,
      purchaseId: purchase.id
    });
    
    await updatePurchaseRecord(purchase.id, payment);
    grantAccess(product.title);
    
  } catch (error) {
    console.error('Subscription error:', error);
    if (error.message !== 'Payment cancelled') {
      alert('Subscription failed. Please try again.');
    }
  }
};

// ==========================================
// PAYMENT HELPER FUNCTIONS
// ==========================================

// Create order entry in Supabase
async function createOrderRecord(productSlug, amount) {
  const { data: { session } } = await sb.auth.getSession();
  if (!session) throw new Error('Not authenticated');
  
  console.log('📦 Creating order record:', productSlug, amount);
  
  const { data, error } = await sb
    .from('purchases')
    .insert({
      user_id: session.user.id,
      product_slug: productSlug,
      status: 'created',
      amount_paid: amount
    })
    .select()
    .single();
  
  if (error) {
    console.error('❌ Create order error:', error);
    throw error;
  }
  
  console.log('✅ Order created:', data.id);
  return data;
}




// Buy QMS Procedure - COMPLETE WITH DEBUGGING
window.buyProcedure = async function(procedureSlug) {
  const { data: { session } } = await sb.auth.getSession();
  if (!session) {
    alert('Please login to purchase procedures');
    window.location.href = 'login.html';
    return;
  }
  
  try {
    console.log('🛒 Starting purchase for:', procedureSlug);
    
    // Check if already purchased
    const alreadyPurchased = await checkPurchase(procedureSlug);
    if (alreadyPurchased) {
      alert('You already own this procedure!');
      window.location.href = `${procedureSlug}.html`;
      return;
    }
    
    // Get product details
    const { data: product, error: prodError } = await sb
      .from('products')
      .select('*')
      .eq('slug', procedureSlug)
      .single();
    
    if (prodError) throw prodError;
    console.log('✅ Product found:', product.title, product.price_in_paise);
    
    // Create purchase record
    const purchase = await createOrderRecord(procedureSlug, product.price_in_paise);
    console.log('✅ Purchase record created:', purchase.id);
    
    // Open Razorpay checkout
    console.log('💳 Opening Razorpay...');
    const payment = await openRazorpayCheckout({
      amount: product.price_in_paise,
      name: product.title,
      description: 'QMS Procedure Purchase',
      productSlug: product.slug,
      purchaseId: purchase.id
    });
    
    console.log('✅ Payment completed:', payment.razorpay_payment_id);
    
    // Update purchase status to paid
    console.log('📝 Updating purchase to paid...');
    await updatePurchaseRecord(purchase.id, payment);
    console.log('✅ Purchase status updated to paid');
    
    // Verify update worked
    const { data: verifyPurchase } = await sb
      .from('purchases')
      .select('status, payment_id')
      .eq('id', purchase.id)
      .single();
    
    console.log('🔍 Verification - Status:', verifyPurchase?.status);
    
    if (verifyPurchase?.status !== 'paid') {
      console.error('⚠️ WARNING: Status not updated correctly!');
      throw new Error('Payment completed but status not updated');
    }
    
    // Show success
    alert(`✅ Purchase successful! You now have access to ${product.title}`);
    
    // Reload UI
    await renderQMSProcedures();
    await loadMyPurchases();
    
    // Redirect
    window.location.href = `${procedureSlug}.html`;
    
  } catch (error) {
    console.error('❌ Purchase error:', error);
    console.error('Error stack:', error.stack);
    
    if (error.message !== 'Payment cancelled') {
      alert(`❌ Purchase failed: ${error.message}\n\nPlease contact support if payment was deducted.`);
    }
  }
};



// Preview course
window.previewCourse = function(productSlug) {
  window.location.href = `preview-${productSlug}.html`;
};

// Close payment modal
window.closePaymentModal = function() {
  const modal = document.getElementById('paymentModal');
  if (modal) {
    modal.classList.remove('active');
  }
};

// Initialize courses on page load
renderCourses();
renderQMSProcedures();

// Load purchases if user is logged in
sb.auth.getSession().then(({ data: { session } }) => {
  if (session) {
    loadMyPurchases();
  }
});



</script>

<!-- Payment Success Modal -->
<div id="paymentModal" class="payment-modal">
  <div class="modal-box">
    <div class="success-icon">✓</div>
    <h2>Payment Successful!</h2>
    <p id="paymentMessage">Your payment was successful. You now have access to this course.</p>
    <button class="cta" onclick="closePaymentModal()">
      <span>Continue Learning</span>
    </button>
  </div>
</div>



</body>
</html>
